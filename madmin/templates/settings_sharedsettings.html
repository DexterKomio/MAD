{% extends "settings.html" %}

{% block header %}
{{ super() }}
{% endblock %}

{% block scripts %}
{{ super() }}
{% endblock %}

{% block content %}
{{ super() }}
{% if mappings.devicesettings|length > 0 %}
<table class="table table-striped table-hover">
  <thead class="thead-dark">
    <tr>
      <th style="width: 50%">Name</th>
      <th style="width: 30%">Settings</th>
      <th style="width: 20%"></th>
    </tr>
  </thead>
  <tbody>
    {% for devicesetting in mappings.devicesettings %}
    <tr>
      <td class="align-middle">
        <a href="settings/shared?setting={{devicesetting.devicepool}}">{{devicesetting.devicepool}}</a>
      </td>
      <td>
        <p style="font-size: 65%; min-height: 40px; display: inline-box">
        {% for key in devicesetting.settings|sort %}
        {%if devicesetting.settings[key] != "" %}
        {{key}}: {{devicesetting.settings[key]}}<br>
        {% endif %}
        {% endfor %}
        </p>
      </td>
      <td class="text-right align-middle">
        <button type="button" class="btn btn-danger btn-sm"><i class="fas fa-trash-alt"></i>
      </td>
    </tr>
    {% endfor %}
  </tbody
</table>
{% else %}
<div class="alert alert-info">No shared settings configured yet</div
{% endif %}
{% endblock %}
